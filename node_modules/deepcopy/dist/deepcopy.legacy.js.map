{"version":3,"file":"deepcopy.legacy.js","sources":["../node_modules/type-detect/type-detect.js","../src/buffer.mjs","../src/detector.mjs","../src/collection.mjs","../src/copy_map.mjs","../src/copier.mjs","../src/index.mjs"],"sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.typeDetect = factory());\n}(this, (function () { 'use strict';\n\n/* !\n * type-detect\n * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\nvar promiseExists = typeof Promise === 'function';\n\n/* eslint-disable no-undef */\nvar globalObject = typeof self === 'object' ? self : global; // eslint-disable-line id-blacklist\n\nvar symbolExists = typeof Symbol !== 'undefined';\nvar mapExists = typeof Map !== 'undefined';\nvar setExists = typeof Set !== 'undefined';\nvar weakMapExists = typeof WeakMap !== 'undefined';\nvar weakSetExists = typeof WeakSet !== 'undefined';\nvar dataViewExists = typeof DataView !== 'undefined';\nvar symbolIteratorExists = symbolExists && typeof Symbol.iterator !== 'undefined';\nvar symbolToStringTagExists = symbolExists && typeof Symbol.toStringTag !== 'undefined';\nvar setEntriesExists = setExists && typeof Set.prototype.entries === 'function';\nvar mapEntriesExists = mapExists && typeof Map.prototype.entries === 'function';\nvar setIteratorPrototype = setEntriesExists && Object.getPrototypeOf(new Set().entries());\nvar mapIteratorPrototype = mapEntriesExists && Object.getPrototypeOf(new Map().entries());\nvar arrayIteratorExists = symbolIteratorExists && typeof Array.prototype[Symbol.iterator] === 'function';\nvar arrayIteratorPrototype = arrayIteratorExists && Object.getPrototypeOf([][Symbol.iterator]());\nvar stringIteratorExists = symbolIteratorExists && typeof String.prototype[Symbol.iterator] === 'function';\nvar stringIteratorPrototype = stringIteratorExists && Object.getPrototypeOf(''[Symbol.iterator]());\nvar toStringLeftSliceLength = 8;\nvar toStringRightSliceLength = -1;\n/**\n * ### typeOf (obj)\n *\n * Uses `Object.prototype.toString` to determine the type of an object,\n * normalising behaviour across engine versions & well optimised.\n *\n * @param {Mixed} object\n * @return {String} object type\n * @api public\n */\nfunction typeDetect(obj) {\n  /* ! Speed optimisation\n   * Pre:\n   *   string literal     x 3,039,035 ops/sec ±1.62% (78 runs sampled)\n   *   boolean literal    x 1,424,138 ops/sec ±4.54% (75 runs sampled)\n   *   number literal     x 1,653,153 ops/sec ±1.91% (82 runs sampled)\n   *   undefined          x 9,978,660 ops/sec ±1.92% (75 runs sampled)\n   *   function           x 2,556,769 ops/sec ±1.73% (77 runs sampled)\n   * Post:\n   *   string literal     x 38,564,796 ops/sec ±1.15% (79 runs sampled)\n   *   boolean literal    x 31,148,940 ops/sec ±1.10% (79 runs sampled)\n   *   number literal     x 32,679,330 ops/sec ±1.90% (78 runs sampled)\n   *   undefined          x 32,363,368 ops/sec ±1.07% (82 runs sampled)\n   *   function           x 31,296,870 ops/sec ±0.96% (83 runs sampled)\n   */\n  var typeofObj = typeof obj;\n  if (typeofObj !== 'object') {\n    return typeofObj;\n  }\n\n  /* ! Speed optimisation\n   * Pre:\n   *   null               x 28,645,765 ops/sec ±1.17% (82 runs sampled)\n   * Post:\n   *   null               x 36,428,962 ops/sec ±1.37% (84 runs sampled)\n   */\n  if (obj === null) {\n    return 'null';\n  }\n\n  /* ! Spec Conformance\n   * Test: `Object.prototype.toString.call(window)``\n   *  - Node === \"[object global]\"\n   *  - Chrome === \"[object global]\"\n   *  - Firefox === \"[object Window]\"\n   *  - PhantomJS === \"[object Window]\"\n   *  - Safari === \"[object Window]\"\n   *  - IE 11 === \"[object Window]\"\n   *  - IE Edge === \"[object Window]\"\n   * Test: `Object.prototype.toString.call(this)``\n   *  - Chrome Worker === \"[object global]\"\n   *  - Firefox Worker === \"[object DedicatedWorkerGlobalScope]\"\n   *  - Safari Worker === \"[object DedicatedWorkerGlobalScope]\"\n   *  - IE 11 Worker === \"[object WorkerGlobalScope]\"\n   *  - IE Edge Worker === \"[object WorkerGlobalScope]\"\n   */\n  if (obj === globalObject) {\n    return 'global';\n  }\n\n  /* ! Speed optimisation\n   * Pre:\n   *   array literal      x 2,888,352 ops/sec ±0.67% (82 runs sampled)\n   * Post:\n   *   array literal      x 22,479,650 ops/sec ±0.96% (81 runs sampled)\n   */\n  if (\n    Array.isArray(obj) &&\n    (symbolToStringTagExists === false || !(Symbol.toStringTag in obj))\n  ) {\n    return 'Array';\n  }\n\n  // Not caching existence of `window` and related properties due to potential\n  // for `window` to be unset before tests in quasi-browser environments.\n  if (typeof window === 'object' && window !== null) {\n    /* ! Spec Conformance\n     * (https://html.spec.whatwg.org/multipage/browsers.html#location)\n     * WhatWG HTML$7.7.3 - The `Location` interface\n     * Test: `Object.prototype.toString.call(window.location)``\n     *  - IE <=11 === \"[object Object]\"\n     *  - IE Edge <=13 === \"[object Object]\"\n     */\n    if (typeof window.location === 'object' && obj === window.location) {\n      return 'Location';\n    }\n\n    /* ! Spec Conformance\n     * (https://html.spec.whatwg.org/#document)\n     * WhatWG HTML$3.1.1 - The `Document` object\n     * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n     *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-26809268)\n     *       which suggests that browsers should use HTMLTableCellElement for\n     *       both TD and TH elements. WhatWG separates these.\n     *       WhatWG HTML states:\n     *         > For historical reasons, Window objects must also have a\n     *         > writable, configurable, non-enumerable property named\n     *         > HTMLDocument whose value is the Document interface object.\n     * Test: `Object.prototype.toString.call(document)``\n     *  - Chrome === \"[object HTMLDocument]\"\n     *  - Firefox === \"[object HTMLDocument]\"\n     *  - Safari === \"[object HTMLDocument]\"\n     *  - IE <=10 === \"[object Document]\"\n     *  - IE 11 === \"[object HTMLDocument]\"\n     *  - IE Edge <=13 === \"[object HTMLDocument]\"\n     */\n    if (typeof window.document === 'object' && obj === window.document) {\n      return 'Document';\n    }\n\n    if (typeof window.navigator === 'object') {\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/multipage/webappapis.html#mimetypearray)\n       * WhatWG HTML$8.6.1.5 - Plugins - Interface MimeTypeArray\n       * Test: `Object.prototype.toString.call(navigator.mimeTypes)``\n       *  - IE <=10 === \"[object MSMimeTypesCollection]\"\n       */\n      if (typeof window.navigator.mimeTypes === 'object' &&\n          obj === window.navigator.mimeTypes) {\n        return 'MimeTypeArray';\n      }\n\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)\n       * WhatWG HTML$8.6.1.5 - Plugins - Interface PluginArray\n       * Test: `Object.prototype.toString.call(navigator.plugins)``\n       *  - IE <=10 === \"[object MSPluginsCollection]\"\n       */\n      if (typeof window.navigator.plugins === 'object' &&\n          obj === window.navigator.plugins) {\n        return 'PluginArray';\n      }\n    }\n\n    if ((typeof window.HTMLElement === 'function' ||\n        typeof window.HTMLElement === 'object') &&\n        obj instanceof window.HTMLElement) {\n      /* ! Spec Conformance\n      * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)\n      * WhatWG HTML$4.4.4 - The `blockquote` element - Interface `HTMLQuoteElement`\n      * Test: `Object.prototype.toString.call(document.createElement('blockquote'))``\n      *  - IE <=10 === \"[object HTMLBlockElement]\"\n      */\n      if (obj.tagName === 'BLOCKQUOTE') {\n        return 'HTMLQuoteElement';\n      }\n\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/#htmltabledatacellelement)\n       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableDataCellElement`\n       * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)\n       *       which suggests that browsers should use HTMLTableCellElement for\n       *       both TD and TH elements. WhatWG separates these.\n       * Test: Object.prototype.toString.call(document.createElement('td'))\n       *  - Chrome === \"[object HTMLTableCellElement]\"\n       *  - Firefox === \"[object HTMLTableCellElement]\"\n       *  - Safari === \"[object HTMLTableCellElement]\"\n       */\n      if (obj.tagName === 'TD') {\n        return 'HTMLTableDataCellElement';\n      }\n\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/#htmltableheadercellelement)\n       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableHeaderCellElement`\n       * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)\n       *       which suggests that browsers should use HTMLTableCellElement for\n       *       both TD and TH elements. WhatWG separates these.\n       * Test: Object.prototype.toString.call(document.createElement('th'))\n       *  - Chrome === \"[object HTMLTableCellElement]\"\n       *  - Firefox === \"[object HTMLTableCellElement]\"\n       *  - Safari === \"[object HTMLTableCellElement]\"\n       */\n      if (obj.tagName === 'TH') {\n        return 'HTMLTableHeaderCellElement';\n      }\n    }\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   Float64Array       x 625,644 ops/sec ±1.58% (80 runs sampled)\n  *   Float32Array       x 1,279,852 ops/sec ±2.91% (77 runs sampled)\n  *   Uint32Array        x 1,178,185 ops/sec ±1.95% (83 runs sampled)\n  *   Uint16Array        x 1,008,380 ops/sec ±2.25% (80 runs sampled)\n  *   Uint8Array         x 1,128,040 ops/sec ±2.11% (81 runs sampled)\n  *   Int32Array         x 1,170,119 ops/sec ±2.88% (80 runs sampled)\n  *   Int16Array         x 1,176,348 ops/sec ±5.79% (86 runs sampled)\n  *   Int8Array          x 1,058,707 ops/sec ±4.94% (77 runs sampled)\n  *   Uint8ClampedArray  x 1,110,633 ops/sec ±4.20% (80 runs sampled)\n  * Post:\n  *   Float64Array       x 7,105,671 ops/sec ±13.47% (64 runs sampled)\n  *   Float32Array       x 5,887,912 ops/sec ±1.46% (82 runs sampled)\n  *   Uint32Array        x 6,491,661 ops/sec ±1.76% (79 runs sampled)\n  *   Uint16Array        x 6,559,795 ops/sec ±1.67% (82 runs sampled)\n  *   Uint8Array         x 6,463,966 ops/sec ±1.43% (85 runs sampled)\n  *   Int32Array         x 5,641,841 ops/sec ±3.49% (81 runs sampled)\n  *   Int16Array         x 6,583,511 ops/sec ±1.98% (80 runs sampled)\n  *   Int8Array          x 6,606,078 ops/sec ±1.74% (81 runs sampled)\n  *   Uint8ClampedArray  x 6,602,224 ops/sec ±1.77% (83 runs sampled)\n  */\n  var stringTag = (symbolToStringTagExists && obj[Symbol.toStringTag]);\n  if (typeof stringTag === 'string') {\n    return stringTag;\n  }\n\n  var objPrototype = Object.getPrototypeOf(obj);\n  /* ! Speed optimisation\n  * Pre:\n  *   regex literal      x 1,772,385 ops/sec ±1.85% (77 runs sampled)\n  *   regex constructor  x 2,143,634 ops/sec ±2.46% (78 runs sampled)\n  * Post:\n  *   regex literal      x 3,928,009 ops/sec ±0.65% (78 runs sampled)\n  *   regex constructor  x 3,931,108 ops/sec ±0.58% (84 runs sampled)\n  */\n  if (objPrototype === RegExp.prototype) {\n    return 'RegExp';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   date               x 2,130,074 ops/sec ±4.42% (68 runs sampled)\n  * Post:\n  *   date               x 3,953,779 ops/sec ±1.35% (77 runs sampled)\n  */\n  if (objPrototype === Date.prototype) {\n    return 'Date';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise.prototype-@@tostringtag)\n   * ES6$25.4.5.4 - Promise.prototype[@@toStringTag] should be \"Promise\":\n   * Test: `Object.prototype.toString.call(Promise.resolve())``\n   *  - Chrome <=47 === \"[object Object]\"\n   *  - Edge <=20 === \"[object Object]\"\n   *  - Firefox 29-Latest === \"[object Promise]\"\n   *  - Safari 7.1-Latest === \"[object Promise]\"\n   */\n  if (promiseExists && objPrototype === Promise.prototype) {\n    return 'Promise';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   set                x 2,222,186 ops/sec ±1.31% (82 runs sampled)\n  * Post:\n  *   set                x 4,545,879 ops/sec ±1.13% (83 runs sampled)\n  */\n  if (setExists && objPrototype === Set.prototype) {\n    return 'Set';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   map                x 2,396,842 ops/sec ±1.59% (81 runs sampled)\n  * Post:\n  *   map                x 4,183,945 ops/sec ±6.59% (82 runs sampled)\n  */\n  if (mapExists && objPrototype === Map.prototype) {\n    return 'Map';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   weakset            x 1,323,220 ops/sec ±2.17% (76 runs sampled)\n  * Post:\n  *   weakset            x 4,237,510 ops/sec ±2.01% (77 runs sampled)\n  */\n  if (weakSetExists && objPrototype === WeakSet.prototype) {\n    return 'WeakSet';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   weakmap            x 1,500,260 ops/sec ±2.02% (78 runs sampled)\n  * Post:\n  *   weakmap            x 3,881,384 ops/sec ±1.45% (82 runs sampled)\n  */\n  if (weakMapExists && objPrototype === WeakMap.prototype) {\n    return 'WeakMap';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-dataview.prototype-@@tostringtag)\n   * ES6$24.2.4.21 - DataView.prototype[@@toStringTag] should be \"DataView\":\n   * Test: `Object.prototype.toString.call(new DataView(new ArrayBuffer(1)))``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (dataViewExists && objPrototype === DataView.prototype) {\n    return 'DataView';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%mapiteratorprototype%-@@tostringtag)\n   * ES6$23.1.5.2.2 - %MapIteratorPrototype%[@@toStringTag] should be \"Map Iterator\":\n   * Test: `Object.prototype.toString.call(new Map().entries())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (mapExists && objPrototype === mapIteratorPrototype) {\n    return 'Map Iterator';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%setiteratorprototype%-@@tostringtag)\n   * ES6$23.2.5.2.2 - %SetIteratorPrototype%[@@toStringTag] should be \"Set Iterator\":\n   * Test: `Object.prototype.toString.call(new Set().entries())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (setExists && objPrototype === setIteratorPrototype) {\n    return 'Set Iterator';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%arrayiteratorprototype%-@@tostringtag)\n   * ES6$22.1.5.2.2 - %ArrayIteratorPrototype%[@@toStringTag] should be \"Array Iterator\":\n   * Test: `Object.prototype.toString.call([][Symbol.iterator]())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (arrayIteratorExists && objPrototype === arrayIteratorPrototype) {\n    return 'Array Iterator';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%stringiteratorprototype%-@@tostringtag)\n   * ES6$21.1.5.2.2 - %StringIteratorPrototype%[@@toStringTag] should be \"String Iterator\":\n   * Test: `Object.prototype.toString.call(''[Symbol.iterator]())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (stringIteratorExists && objPrototype === stringIteratorPrototype) {\n    return 'String Iterator';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   object from null   x 2,424,320 ops/sec ±1.67% (76 runs sampled)\n  * Post:\n  *   object from null   x 5,838,000 ops/sec ±0.99% (84 runs sampled)\n  */\n  if (objPrototype === null) {\n    return 'Object';\n  }\n\n  return Object\n    .prototype\n    .toString\n    .call(obj)\n    .slice(toStringLeftSliceLength, toStringRightSliceLength);\n}\n\nreturn typeDetect;\n\n})));\n","const isBufferExists = typeof Buffer !== 'undefined';\nconst isBufferFromExists = isBufferExists && typeof Buffer.from !== 'undefined';\n\nexport const isBuffer = isBufferExists\n  ? /**\n     * is value is Buffer?\n     *\n     * @param {*} value\n     * @return {boolean}\n     */\n    function isBuffer(value) {\n      return Buffer.isBuffer(value);\n    }\n  : /**\n     * return false\n     *\n     * NOTE: for Buffer unsupported\n     *\n     * @return {boolean}\n     */\n    function isBuffer() {\n      return false;\n    };\n\nexport const copy = isBufferFromExists\n  ? /**\n     * copy Buffer\n     *\n     * @param {Buffer} value\n     * @return {Buffer}\n     */\n    function copy(value) {\n      return Buffer.from(value);\n    }\n  : isBufferExists\n    ? /**\n       * copy Buffer\n       *\n       * NOTE: for old node.js\n       *\n       * @param {Buffer} value\n       * @return {Buffer}\n       */\n      function copy(value) {\n        return new Buffer(value);\n      }\n    : /**\n       * shallow copy\n       *\n       * NOTE: for Buffer unsupported\n       *\n       * @param {*}\n       * @return {*}\n       */\n      function copy(value) {\n        return value;\n      };\n","import typeDetect from 'type-detect';\n\nimport { isBuffer } from './buffer';\n\n/**\n * detect type of value\n *\n * @param {*} value\n * @return {string}\n */\nexport function detectType(value) {\n  // NOTE: isBuffer must execute before type-detect,\n  // because type-detect returns 'Uint8Array'.\n  if (isBuffer(value)) {\n    return 'Buffer';\n  }\n\n  return typeDetect(value);\n}\n","import { detectType } from './detector';\n\n/**\n * collection types\n */\nconst collectionTypeSet = new Set([\n  'Arguments',\n  'Array',\n  'Map',\n  'Object',\n  'Set'\n]);\n\n/**\n * get value from collection\n *\n * @param {Array|Object|Map|Set} collection\n * @param {string|number|symbol} key\n * @param {string} [type=null]\n * @return {*}\n */\nexport function get(collection, key, type = null) {\n  const valueType = type || detectType(collection);\n\n  switch (valueType) {\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n      return collection[key];\n    case 'Map':\n      return collection.get(key);\n    case 'Set':\n      // NOTE: Set.prototype.keys is alias of Set.prototype.values\n      // it means key is equals value\n      return key;\n    default:\n  }\n}\n\n/**\n * check to type string is collection\n *\n * @param {string} type\n */\nexport function isCollection(type) {\n  return collectionTypeSet.has(type);\n}\n\n/**\n * set value to collection\n *\n * @param {Array|Object|Map|Set} collection\n * @param {string|number|symbol} key\n * @param {*} value\n * @param {string} [type=null]\n * @return {Array|Object|Map|Set}\n */\nexport function set(collection, key, value, type = null) {\n  const valueType = type || detectType(collection);\n\n  switch (valueType) {\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n      collection[key] = value;\n      break;\n    case 'Map':\n      collection.set(key, value);\n      break;\n    case 'Set':\n      collection.add(value);\n      break;\n    default:\n  }\n\n  return collection;\n}\n","import { copy as cloneBuffer } from './buffer';\n\nconst globalObject = Function('return this')();\n\n/**\n * copy ArrayBuffer\n *\n * @param {ArrayBuffer} value\n * @return {ArrayBuffer}\n */\nfunction copyArrayBuffer(value) {\n  return value.slice(0);\n}\n\n/**\n * copy Boolean\n *\n * @param {Boolean} value\n * @return {Boolean}\n */\nfunction copyBoolean(value) {\n  return new Boolean(value.valueOf());\n}\n\n/**\n * copy DataView\n *\n * @param {DataView} value\n * @return {DataView}\n */\nfunction copyDataView(value) {\n  // TODO: copy ArrayBuffer?\n  return new DataView(value.buffer);\n}\n\n/**\n * copy Buffer\n *\n * @param {Buffer} value\n * @return {Buffer}\n */\nfunction copyBuffer(value) {\n  return cloneBuffer(value);\n}\n\n/**\n * copy Date\n *\n * @param {Date} value\n * @return {Date}\n */\nfunction copyDate(value) {\n  return new Date(value.getTime());\n}\n\n/**\n * copy Number\n *\n * @param {Number} value\n * @return {Number}\n */\nfunction copyNumber(value) {\n  return new Number(value);\n}\n\n/**\n * copy RegExp\n *\n * @param {RegExp} value\n * @return {RegExp}\n */\nfunction copyRegExp(value) {\n  return new RegExp(value.source || '(?:)', value.flags);\n}\n\n/**\n * copy String\n *\n * @param {String} value\n * @return {String}\n */\nfunction copyString(value) {\n  return new String(value);\n}\n\n/**\n * copy TypedArray\n *\n * @param {*} value\n * @return {*}\n */\nfunction copyTypedArray(value, type) {\n  return globalObject[type].from(value);\n}\n\n/**\n * shallow copy\n *\n * @param {*} value\n * @return {*}\n */\nfunction shallowCopy(value) {\n  return value;\n}\n\n/**\n * get empty Array\n *\n * @return {Array}\n */\nfunction getEmptyArray() {\n  return [];\n}\n\n/**\n * get empty Map\n *\n * @return {Map}\n */\nfunction getEmptyMap() {\n  return new Map();\n}\n\n/**\n * get empty Object\n *\n * @return {Object}\n */\nfunction getEmptyObject() {\n  return {};\n}\n\n/**\n * get empty Set\n *\n * @return {Set}\n */\nfunction getEmptySet() {\n  return new Set();\n}\n\nexport default new Map([\n  // deep copy\n  ['ArrayBuffer', copyArrayBuffer],\n  ['Boolean', copyBoolean],\n  ['Buffer', copyBuffer],\n  ['DataView', copyDataView],\n  ['Date', copyDate],\n  ['Number', copyNumber],\n  ['RegExp', copyRegExp],\n  ['String', copyString],\n\n  // typed arrays\n  // TODO: pass bound function\n  ['Float32Array', copyTypedArray],\n  ['Float64Array', copyTypedArray],\n  ['Int16Array', copyTypedArray],\n  ['Int32Array', copyTypedArray],\n  ['Int8Array', copyTypedArray],\n  ['Uint16Array', copyTypedArray],\n  ['Uint32Array', copyTypedArray],\n  ['Uint8Array', copyTypedArray],\n  ['Uint8ClampedArray', copyTypedArray],\n\n  // shallow copy\n  ['Array Iterator', shallowCopy],\n  ['Map Iterator', shallowCopy],\n  ['Promise', shallowCopy],\n  ['Set Iterator', shallowCopy],\n  ['String Iterator', shallowCopy],\n  ['function', shallowCopy],\n  ['global', shallowCopy],\n  // NOTE: WeakMap and WeakSet cannot get entries\n  ['WeakMap', shallowCopy],\n  ['WeakSet', shallowCopy],\n\n  // primitives\n  ['boolean', shallowCopy],\n  ['null', shallowCopy],\n  ['number', shallowCopy],\n  ['string', shallowCopy],\n  ['symbol', shallowCopy],\n  ['undefined', shallowCopy],\n\n  // collections\n  // NOTE: return empty value, because recursively copy later.\n  ['Arguments', getEmptyArray],\n  ['Array', getEmptyArray],\n  ['Map', getEmptyMap],\n  ['Object', getEmptyObject],\n  ['Set', getEmptySet]\n\n  // NOTE: type-detect returns following types\n  // 'Location'\n  // 'Document'\n  // 'MimeTypeArray'\n  // 'PluginArray'\n  // 'HTMLQuoteElement'\n  // 'HTMLTableDataCellElement'\n  // 'HTMLTableHeaderCellElement'\n\n  // TODO: is type-detect never return 'object'?\n  // 'object'\n]);\n","import copyMap from './copy_map';\nimport { detectType } from './detector';\n\n/**\n * no operation\n */\nfunction noop() {}\n\n/**\n * copy value\n *\n * @param {*} value\n * @param {string} [type=null]\n * @param {Function} [customizer=noop]\n * @return {*}\n */\nexport function copy(value, type = null, customizer = noop) {\n  if (arguments.length === 2 && typeof type === 'function') {\n    customizer = type;\n    type = null;\n  }\n\n  const valueType = type || detectType(value);\n  const copyFunction = copyMap.get(valueType);\n\n  if (valueType === 'Object') {\n    const result = customizer(value, valueType);\n\n    if (result !== undefined) {\n      return result;\n    }\n  }\n\n  // NOTE: TypedArray needs pass type to argument\n  return copyFunction ? copyFunction(value, valueType) : value;\n}\n","import { detectType } from './detector';\nimport { get, isCollection, set } from './collection';\nimport { copy } from './copier';\n\n/**\n * deepcopy function\n *\n * @param {*} value\n * @param {Object|Function} [options]\n * @return {*}\n */\nexport default function deepcopy(value, options = {}) {\n  if (typeof options === 'function') {\n    options = {\n      customizer: options\n    };\n  }\n\n  const {\n    // TODO: before/after customizer\n    customizer\n    // TODO: max depth\n    // depth = Infinity,\n  } = options;\n\n  const valueType = detectType(value);\n\n  if (!isCollection(valueType)) {\n    return recursiveCopy(value, null, null, null, customizer);\n  }\n\n  const copiedValue = copy(value, valueType, customizer);\n\n  const references = new WeakMap([[value, copiedValue]]);\n  const visited = new WeakSet([value]);\n\n  return recursiveCopy(value, copiedValue, references, visited, customizer);\n}\n\n/**\n * recursively copy\n *\n * @param {*} value target value\n * @param {*} clone clone of value\n * @param {WeakMap} references visited references of clone\n * @param {WeakSet} visited visited references of value\n * @param {Function} customizer user customize function\n * @return {*}\n */\nfunction recursiveCopy(value, clone, references, visited, customizer) {\n  const type = detectType(value);\n  const copiedValue = copy(value, type);\n\n  // return if not a collection value\n  if (!isCollection(type)) {\n    return copiedValue;\n  }\n\n  let keys;\n\n  switch (type) {\n    case 'Arguments':\n    case 'Array':\n      keys = Object.keys(value);\n      break;\n    case 'Object':\n      keys = Object.keys(value);\n      keys.push(...Object.getOwnPropertySymbols(value));\n      break;\n    case 'Map':\n    case 'Set':\n      keys = value.keys();\n      break;\n    default:\n  }\n\n  // walk within collection with iterator\n  for (let collectionKey of keys) {\n    const collectionValue = get(value, collectionKey, type);\n\n    if (visited.has(collectionValue)) {\n      // for [Circular]\n      set(clone, collectionKey, references.get(collectionValue), type);\n    } else {\n      const collectionValueType = detectType(collectionValue);\n      const copiedCollectionValue = copy(collectionValue, collectionValueType);\n\n      // save reference if value is collection\n      if (isCollection(collectionValueType)) {\n        references.set(collectionValue, copiedCollectionValue);\n        visited.add(collectionValue);\n      }\n\n      set(\n        clone,\n        collectionKey,\n        recursiveCopy(\n          collectionValue,\n          copiedCollectionValue,\n          references,\n          visited,\n          customizer\n        ),\n        type\n      );\n    }\n  }\n\n  // TODO: isSealed/isFrozen/isExtensible\n\n  return clone;\n}\n"],"names":["global","factory","module","this","promiseExists","Promise","globalObject","self","symbolExists","Symbol","mapExists","Map","setExists","Set","weakMapExists","WeakMap","weakSetExists","WeakSet","dataViewExists","DataView","symbolIteratorExists","iterator","symbolToStringTagExists","toStringTag","setEntriesExists","prototype","entries","mapEntriesExists","setIteratorPrototype","Object","getPrototypeOf","mapIteratorPrototype","arrayIteratorExists","Array","arrayIteratorPrototype","stringIteratorExists","String","stringIteratorPrototype","toStringLeftSliceLength","toStringRightSliceLength","typeDetect","obj","typeofObj","isArray","window","location","document","navigator","mimeTypes","plugins","HTMLElement","tagName","stringTag","objPrototype","RegExp","Date","toString","call","slice","isBufferExists","Buffer","isBufferFromExists","from","isBuffer","value","copy","detectType","collectionTypeSet","get","collection","key","type","valueType","isCollection","has","set","add","Function","copyArrayBuffer","copyBoolean","Boolean","valueOf","copyDataView","buffer","copyBuffer","cloneBuffer","copyDate","getTime","copyNumber","Number","copyRegExp","source","flags","copyString","copyTypedArray","shallowCopy","getEmptyArray","getEmptyMap","getEmptyObject","getEmptySet","noop","customizer","arguments","length","copyFunction","copyMap","result","undefined","deepcopy","options","recursiveCopy","copiedValue","references","visited","clone","keys","push","getOwnPropertySymbols","collectionKey","collectionValue","collectionValueType","copiedCollectionValue"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}